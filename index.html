<!DOCTYPE html>
<html lang="en">

<!-- todo
  - info wenn screen zu schmal
  - alles enligsch
  - favicon
  - header 
  - file formatierung
  - file für sprache labels
  - datei codesatz
  - label nachrichten schreiben textarea
  - lade screen währen fetch
  - hatte fehler, als bei erstem aufruf leere arrays zurück kamen. evtl mal fest setzten und dann testen -
  - - > vermutlich wird room name auf undefined gesetzt und dieser raum dann beim erstellen angelegt
  - - > evtl noch bug, wenn zuerset 401 nicht angemeldet kommt 
  - f5 ruhiger macher (menu flakkert)
  - if condition wenn schon im raum
- ' und "
- sich selber eine nachricht schicken ist auch schwachsinn ;)
- evtl. messages von usern als json in lokaler db speichern (mit info - nachrichten werden für die dauer der session gespeichert)
-- css änderung, wenn neue nachricht von user kommt (neben usernamen) 
- wss repsonse einbauen




  was hab ich gemacht
  - erstmal protptyp (wie funktioniert was)
  - dann plan, was muss ich alles machen + implementierung des plans
  - annahme: 
      1. user darf nur in einem raum gleichzeitig sein (wäre auch anders gegangen)
      2. es darf keinen raum mit dem namen "" (leer) geben
  - erste überlegungungen für zusatzfunktionen: ba
  - gründe für: 
      1. device flow user wird nicht zurück gegeben (änderung an api)
      2. logged in ist redundant, da ja header entsprechend zurückgegeben wird
  - request bei raumwechsel:
          von adsdad
          1. 204 ???
          2. post in neuen raum
          3. hole user in raum
          4. starte alten websocket
          5. verlasse alten raum
          6. lese nachrichten im raum
          7. starte message websocket
          8. starte info websocket
          nach anuerk

-->

<head>
  <meta charset="UTF-8" />
  <title>Webprommierung</title>
  <link rel="stylesheet" href="css/style.css" />
  <script src="js/script.js"></script>
  <script src="https://kit.fontawesome.com/54e3d558c8.js" crossorigin="anonymous"></script>
</head>

<body>
  <!-- div for the header and functions-->
  <div class="wrapper">
    <!-- will be displayed if user is not logged in-->
    <div id="overlay">
      <div id="text"><br /><button id="logged_in" onclick="login_hide()">Gemacht :)</button></div>
    </div>

    <!-- header -->
    <div class="header">
      <button onclick="do_auth()">do auth</button>
      <button onclick="get_rooms()">get rooms</button>
      <button onclick="get_users()">get users</button>
    </div>

    <!-- body-->
    <div id="container">
      <!-- rooms-->
      <div id="menu">
        <div id="rooms">
          <h2>rooms</h2>
          <ul>
            <li><input type="text" name="new_room" id="new_room"><button value="add" class="fas fa-plus"
                aria-hidden="true">add</button>
              <hr>
            </li>
            <li><button value="adsd" class="adsd">adsd</button></li>
          </ul>
        </div>
        <!-- user-->
        <div id="users">
          <h2>user</h2>
          <ul>
            <li><input type="text" name="new_room" id="new_room"><button value="add" class="fas fa-plus"
                aria-hidden="true">add</button>
              <hr>
            </li>
          </ul>
        </div>
      </div>
      <!-- chat-->
      <div id="chat">
        <div id="chat_history">

        </div>
        <div id="chat_new">
          <hr>
          <label for="chat_input">chat:</label>
          <textarea id="chat_input" name="chat_input" rows="4" cols="50"></textarea><br />
          <button type="button" id="chat_send" onclick="send_message_in_room()">Send</button>
        </div>
      </div>


    </div>
    <!-- footer-->
    <div id="footer">
      <h2>footer</h2>
    </div>
  </div>
</body>
<!-- todo only if logged in -->
<script>init()</script>

</html>