<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Chat</title>
  <link rel="stylesheet" href="css/style.css" />
  <script src="js/script.js"></script>
  <script src="js/sockets.js"></script>
  <script src="js/helper.js"></script>
</head>

<body>
  <!-- div for the header and functions-->
  <div class="wrapper">
    <!-- will be displayed if user is not logged in-->
    <div id="overlay">
      <div id="login_info">
        <label for="chat_send" id="label_login_btn"></label>
        <button style="display:none" id="logged_in" onclick="display_login('','',true)"></button>
      </div>
    </div>
    <!-- body-->
    <div id="container">
      <!-- menu left-->
      <div id="menu">
        <div id="rooms_header">
        </div>
        <div id="new_room_div">
          <p>
            <label for="new_room" id="lable_new_room_txt"></label>
            <input type="text" name="new_room" id="new_room">
          </p>
          <p>
            <button type="submit" id="new_room_btn" onclick="create_new_room()"></button>
            <label for="new_room_btn" class="hidden" id="label_new_room_button"></label>
          </p>
        </div>
        <div id="rooms_info_text"></div>
        <div id="rooms">
        </div>
        <div id="private_chats_header">
        </div>
        <div id="private_chats">
          <ul class="private_chats_ul">
          </ul>
        </div>
      </div>
      <!-- content big -->
      <div id="chat">
        <div id="chat_history">
          <div id="room_header">
          </div>
        </div>
        <div id="chat_new">
          <form>
            <label for="chat_input" id="label_chat_text"></label>
            <textarea id="chat_input" name="chat_input" rows="4" cols="50"></textarea><br />
            <label for="chat_send" id="label_chat_send"></label>
            <button type="button" id="chat_send" onclick="send_message()"></button>
          </form>
        </div>
      </div>
    </div>
  </div>
</body>

<script>
  (async () => {
    show_loading(true)
    await init()

    document.getElementById("chat_history").innerHTML = "<p>" + labels.welcome + "</p>"

    if (current_user) {
      show_loading(false)
    }
  })();
</script>

</html>